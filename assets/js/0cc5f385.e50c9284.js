"use strict";(self.webpackChunk_availity_dinosaurdocs=self.webpackChunk_availity_dinosaurdocs||[]).push([[2403],{3905:function(t,e,a){a.d(e,{Zo:function(){return p},kt:function(){return d}});var n=a(7294);function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){i(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function s(t,e){if(null==t)return{};var a,n,i=function(t,e){if(null==t)return{};var a,n,i={},r=Object.keys(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||(i[a]=t[a]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}var l=n.createContext({}),c=function(t){var e=n.useContext(l),a=e;return t&&(a="function"==typeof t?t(e):o(o({},e),t)),a},p=function(t){var e=c(t.components);return n.createElement(l.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},y=n.forwardRef((function(t,e){var a=t.components,i=t.mdxType,r=t.originalType,l=t.parentName,p=s(t,["components","mdxType","originalType","parentName"]),y=c(a),d=i,m=y["".concat(l,".").concat(d)]||y[d]||u[d]||r;return a?n.createElement(m,o(o({ref:e},p),{},{components:a})):n.createElement(m,o({ref:e},p))}));function d(t,e){var a=arguments,i=e&&e.mdxType;if("string"==typeof t||i){var r=a.length,o=new Array(r);o[0]=y;var s={};for(var l in e)hasOwnProperty.call(e,l)&&(s[l]=e[l]);s.originalType=t,s.mdxType="string"==typeof t?t:i,o[1]=s;for(var c=2;c<r;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}y.displayName="MDXCreateElement"},269:function(t,e,a){a.r(e),a.d(e,{assets:function(){return p},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return u}});var n=a(3117),i=a(102),r=(a(7294),a(3905)),o=["components"],s={title:"<Analytics />",slug:"analytics"},l=void 0,c={unversionedId:"components/analytics/analytics",id:"components/analytics/analytics",title:"<Analytics />",description:"Version",source:"@site/docs/components/analytics/analytics.md",sourceDirName:"components/analytics",slug:"/components/analytics/analytics",permalink:"/availity-react/components/analytics/analytics",draft:!1,editUrl:"https://github.com/availity/availity-react/edit/master/docusaurus/docs/components/analytics/analytics.md",tags:[],version:"current",frontMatter:{title:"<Analytics />",slug:"analytics"},sidebar:"someSidebar",previous:{title:"Getting Started",permalink:"/availity-react/components/analytics/"},next:{title:"useAnalytics",permalink:"/availity-react/components/analytics/hook"}},p={},u=[{value:"Live example: Storybook",id:"live-example-storybook",level:4},{value:"Auto Tracking vs Manual Uracking",id:"auto-tracking-vs-manual-uracking",level:2},{value:"Auto Tracking",id:"auto-tracking",level:3},{value:"Manual Tracking",id:"manual-tracking",level:3},{value:"Logging for Splunk and Insights",id:"logging-for-splunk-and-insights",level:3},{value:"Props",id:"props",level:3},{value:"<code>plugins?: AnalyticsPlugin | AnalyticsPlugin[]</code>",id:"plugins-analyticsplugin--analyticsplugin",level:4},{value:"<code>pageTracking?: boolean</code>",id:"pagetracking-boolean",level:4},{value:"<code>autoTrack?: boolean</code>",id:"autotrack-boolean",level:4},{value:"<code>recursive?: boolean</code>",id:"recursive-boolean",level:4},{value:"<code>attributePrefix?: string</code>",id:"attributeprefix-string",level:4},{value:"<code>eventModifiers?: string | string[]</code>",id:"eventmodifiers-string--string",level:4}],y={toc:u};function d(t){var e=t.components,a=(0,i.Z)(t,o);return(0,r.kt)("wrapper",(0,n.Z)({},y,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@availity/analytics-core"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/npm/v/@availity/analytics-core.svg?style=for-the-badge",alt:"Version"}))),(0,r.kt)("h4",{id:"live-example-storybook"},"Live example: ",(0,r.kt)("a",{parentName:"h4",href:"https://availity.github.io/availity-react/storybook/?path=/story/components-analytics--default"},"Storybook")),(0,r.kt)("p",null,"This ",(0,r.kt)("inlineCode",{parentName:"p"},"<Analytics />")," component is part of Availity's toolset for tracking user interactions and page views in your application. For a helpful overview of how to setup these tools, read our ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/availity-workflow/recipes/logging/"},"Setting Up Logging")," guide. Logging in a React application at Availity involves imports from this React focused ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@availity/analytics"},"@availity/analytics")," package and from ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@availity/analytics-core"},"@availity/analytics-core"),". Starting with the Setting Up Logging guide will give you a better understanding of how they work together."),(0,r.kt)("p",null,"For a detailed understanding of how analytics logging works, you will find it helpful to read ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics"},"these docs on the AvAnalytics class"),", since ",(0,r.kt)("inlineCode",{parentName:"p"},"<Analytics />")," implements an instance of ",(0,r.kt)("inlineCode",{parentName:"p"},"AvAnalytics"),", and most of the props are forwarded directly to it."),(0,r.kt)("p",null,"For access to the underlying AvAnalytics instance in your React application, use the ",(0,r.kt)("a",{parentName:"p",href:"/availity-react/components/analytics/hook"},"useAnalytics hook"),". This allows you to ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#trackeventproperties-object"},"manually track")," events, which does not have the same ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#limitations"},"limitations")," as ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#auto-tracking-with-data-analytics-attributes"},"auto tracking")," events."),(0,r.kt)("h2",{id:"auto-tracking-vs-manual-uracking"},"Auto Tracking vs Manual Uracking"),(0,r.kt)("h3",{id:"auto-tracking"},"Auto Tracking"),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/"},(0,r.kt)("inlineCode",{parentName:"a"},"AvAnalytics")," class")," provides a convenient ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/"},"auto tracking feature")," which allows user interactions to be automatically tracked based on special ",(0,r.kt)("inlineCode",{parentName:"p"},"data-analytics-...")," attributes added directly to DOM elements or to React components that are able to forward these attributes to the underlying DOM elements."),(0,r.kt)("p",null,"Auto tracking is very convenient because it eliminates the need to create your own event handlers or setup listeners for the interactions you want to track, which would be required when using ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#trackeventproperties-object"},"manual tracking"),". However, be aware that auto tracking does come with it's own set ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#limitations"},"limitations"),"."),(0,r.kt)("p",null,"The code sample below shows an example of using ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#auto-tracking-with-data-analytics-attributes"},"auto tracking")," with special ",(0,r.kt)("inlineCode",{parentName:"p"},"data-analytics-...")," attributes added directly to DOM elements or to React components that are able to forward these attributes to the underlying DOM elements."),(0,r.kt)("p",null,"This is a complete example of setting up analytics in a React application using ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#auto-tracking-with-data-analytics-attributes"},"data analytics attributes for auto tracking"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport Analytics from '@availity/analytics';\nimport { Button } from 'reactstrap';\nimport { avLogMessagesApiV2 } from '@availity/api-axios';\nimport { AvSplunkAnalytics } from '@availity/analytics-core';\n\nconst mySpecialValue = '123';\n\nconst splunkPlugin = new AvSplunkAnalytics(avLogMessagesApiV2, true);\n\nconst App = () => (\n  <Analytics plugins={[splunkPlugin]}>\n    <div>\n      <Button\n        type=\"button\"\n        data-analytics-action=\"click\"\n        data-analytics-my-special-value={mySpecialValue}\n      >\n        Button with analytics\n      </Button>\n    </div>\n  </Analytics>\n);\n\nexport default App;\n")),(0,r.kt)("p",null,"Clicking the button in this example will make an API call with the following payload:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"level: info\nentries.action: click\nentries.mySpecialValue: 123\nentries.event: click\nentries.url: <url of the page where the user performed the action>\n")),(0,r.kt)("p",null,"NOTE: In the code sample above, the Reactstrap ",(0,r.kt)("inlineCode",{parentName:"p"},"<Button>")," component is forwarding these data attributes to the native ",(0,r.kt)("inlineCode",{parentName:"p"},"<button>")," element that the component renders. Not all React components can accept these data analytics attributes. Use the Elements panel of DevTools to confirm that these attributes are added to the appropriate DOM element."),(0,r.kt)("p",null,"Be sure to read more on auto tracking and the required data attributes ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#auto-tracking-with-data-analytics-attributes"},"here on the docs for the AvAnalytics class"),"."),(0,r.kt)("h3",{id:"manual-tracking"},"Manual Tracking"),(0,r.kt)("p",null,"If the ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#limitations"},"limitations of auto tracking")," prevent you from logging the events you are interested in, you will need to use manual tracking by calling analytics.trackEvent() directly. For this, you will need access to the instance of AvAnalytics that has been initialize by the Analytics context provider. This instance is returned by the ",(0,r.kt)("a",{parentName:"p",href:"/availity-react/components/analytics/hook"},"useAnalytics hook"),"."),(0,r.kt)("p",null,"Here is a complete example of using the ",(0,r.kt)("a",{parentName:"p",href:"/availity-react/components/analytics/hook"},"useAnalytics hook")," and the ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#trackeventproperties-object"},(0,r.kt)("inlineCode",{parentName:"a"},"analytics.trackEvent()"))," method to manually track an event in React."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport Analytics, { useAnalytics } from '@availity/analytics';\n\nimport { avLogMessagesApiV2 } from '@availity/api-axios';\nimport { AvSplunkAnalytics } from '@availity/analytics-core';\n\nconst splunkPlugin = new AvSplunkAnalytics(avLogMessagesApiV2, true);\n\nconst MyDeeplyNestedComponent = () => {\n  const analytics = useAnalytics();\n\n  const handleMouseOver = () => {\n    analytics.trackEvent({\n      level: 'info',\n      someValue: 'foo',\n      otherValue: 'bar',\n    });\n  };\n\n  return (\n    <div onMouseOver={handleMouseOver}>\n      Tracking mouseover events on this div\n    </div>\n  );\n};\n\nconst App = () => (\n  <Analytics plugins={[splunkPlugin]}>\n    <MyDeeplyNestedComponent />\n  </Analytics>\n);\n\nexport default App;\n")),(0,r.kt)("h3",{id:"logging-for-splunk-and-insights"},"Logging for Splunk and Insights"),(0,r.kt)("p",null,"The examples above use ",(0,r.kt)("inlineCode",{parentName:"p"},"avLogMessagesApiV2")," from ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@availity/api-axios"},(0,r.kt)("inlineCode",{parentName:"a"},"@availity/api-axios"))," and ",(0,r.kt)("inlineCode",{parentName:"p"},"AvSplunkAnalytics")," from ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@availity/analytics-core"},(0,r.kt)("inlineCode",{parentName:"a"},"@availity/analytics-core")),". These are required for logging to Splunk or Insights. If you are creating a Payer Spaces app and want to use Insights reporting, read more about the the official ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#official-avsplunkanalytics-plugin"},"AvSplunkAnalytics")," and ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#note-about-insights"},"other requirements for Payer Spaces apps to use Insights"),"."),(0,r.kt)("h3",{id:"props"},"Props"),(0,r.kt)("h4",{id:"plugins-analyticsplugin--analyticsplugin"},(0,r.kt)("inlineCode",{parentName:"h4"},"plugins?: AnalyticsPlugin | AnalyticsPlugin[]")),(0,r.kt)("p",null,"A plugin or array of plugins to pass to the underlying AvAnalytics class instance. ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#plugins"},"Read more about analytics plugins"),"."),(0,r.kt)("h4",{id:"pagetracking-boolean"},(0,r.kt)("inlineCode",{parentName:"h4"},"pageTracking?: boolean")),(0,r.kt)("p",null,"Enable or disable page tracking on initialization. ",(0,r.kt)("strong",{parentName:"p"},"Default:")," ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),". ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#pagetracking-boolean"},"Read more about auto tracking"),"."),(0,r.kt)("h4",{id:"autotrack-boolean"},(0,r.kt)("inlineCode",{parentName:"h4"},"autoTrack?: boolean")),(0,r.kt)("p",null,"Enable or disable auto tracking on initialization. ",(0,r.kt)("strong",{parentName:"p"},"Default:")," ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),". ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#autotrack-boolean"},"Read more about page tracking")),(0,r.kt)("h4",{id:"recursive-boolean"},(0,r.kt)("inlineCode",{parentName:"h4"},"recursive?: boolean")),(0,r.kt)("p",null,"Enable or disable recursive functionality on initialization. ",(0,r.kt)("strong",{parentName:"p"},"Default:")," ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),". ","[Read more about recursive functionality]","(recursive functionality)"),(0,r.kt)("h4",{id:"attributeprefix-string"},(0,r.kt)("inlineCode",{parentName:"h4"},"attributePrefix?: string")),(0,r.kt)("p",null,"Customize the prefix used for data analytics attributes used for auto tracking. ",(0,r.kt)("strong",{parentName:"p"},"Default:")," ",(0,r.kt)("inlineCode",{parentName:"p"},"'data-analytics'"),". ",(0,r.kt)("a",{parentName:"p",href:"https://availity.github.io/sdk-js/resources/analytics/#optionsattributeprefix-string"},"Read more about customizing the attribute prefix")),(0,r.kt)("h4",{id:"eventmodifiers-string--string"},(0,r.kt)("inlineCode",{parentName:"h4"},"eventModifiers?: string | string[]")),(0,r.kt)("p",null,"Array of event modifiers enabling you to use other keywords for ",(0,r.kt)("inlineCode",{parentName:"p"},"action")," instead of ",(0,r.kt)("inlineCode",{parentName:"p"},"click")," for event type matching. ",(0,r.kt)("strong",{parentName:"p"},"Default:")," ",(0,r.kt)("inlineCode",{parentName:"p"},"['action']"),". Note: This prop may not be working as expected. See ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Availity/availity-react/issues/1042"},"issue #1042"),"."))}d.isMDXComponent=!0}}]);