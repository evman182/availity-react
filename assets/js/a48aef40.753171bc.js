"use strict";(self.webpackChunk_availity_dinosaurdocs=self.webpackChunk_availity_dinosaurdocs||[]).push([[8630],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=o.createContext({}),p=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=p(e.components);return o.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),m=i,h=u["".concat(l,".").concat(m)]||u[m]||d[m]||r;return n?o.createElement(h,a(a({ref:t},c),{},{components:n})):o.createElement(h,a({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,a=new Array(r);a[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var p=2;p<r;p++)a[p]=n[p];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},9179:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return d}});var o=n(3117),i=n(102),r=(n(7294),n(3905)),a=["components"],s={title:"<AvOrganizationSelect />"},l=void 0,p={unversionedId:"form/select/components/organization-select",id:"form/select/components/organization-select",title:"<AvOrganizationSelect />",description:"A select list that automatically loads and pages through organizations when the user scrolls down.",source:"@site/docs/form/select/components/organization-select.md",sourceDirName:"form/select/components",slug:"/form/select/components/organization-select",permalink:"/availity-react/form/select/components/organization-select",draft:!1,editUrl:"https://github.com/availity/availity-react/edit/master/docusaurus/docs/form/select/components/organization-select.md",tags:[],version:"current",frontMatter:{title:"<AvOrganizationSelect />"},sidebar:"someSidebar",previous:{title:"<AvRegionSelect />",permalink:"/availity-react/form/select/components/region-select"},next:{title:"<AvPayerSelect />",permalink:"/availity-react/form/select/components/payer-select"}},c={},d=[{value:"Example",id:"example",level:3},{value:"Live example: Storybook",id:"live-example-storybook",level:4},{value:"Props",id:"props",level:3},{value:"<code>resourceIds?: string | string[]</code>",id:"resourceids-string--string",level:4},{value:"<code>permissionIds: string | string[]</code>",id:"permissionids-string--string",level:4},{value:"Additional notes on production usage",id:"additional-notes-on-production-usage",level:3}],u={toc:d};function m(e){var t=e.components,n=(0,i.Z)(e,a);return(0,r.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"A select list that automatically loads and pages through organizations when the user scrolls down."),(0,r.kt)("h3",{id:"example"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport { Form } from '@availity/form';\nimport { AvOrganizationSelect } from '@availity/select';\nimport { Button } from 'reactstrap';\nimport * as yup from 'yup';\nimport '@availity/yup';\n\nconst Example = () => (\n  <Form\n    initialValues={{\n      organizations: '',\n    }}\n    onSubmit={(values) => apiResource.submit(values)}\n    validationSchema={yup.object().shape({\n      organizations: yup.string().isRequired('This field is required.'),\n    })}\n  >\n    <AvOrganizationSelect\n      id=\"organizations\"\n      name=\"organizations\"\n      parameters={{\n        regionId: 'FL',\n        // permissionId can still be used here if\n        // the additionalPostGetArgs logic is not being used\n        permissionId: ['1111', '2222'],\n      }}\n      // permission 1111 OR 2222, with resource\n      // 1234 OR 4321 is required for each organization\n      permissionIds={['1111', '2222']}\n      resourceIds={['1234', '4321']}\n    />\n    <Button color=\"primary\" type=\"submit\">\n      Submit\n    </Button>\n  </Form>\n);\n")),(0,r.kt)("h4",{id:"live-example-storybook"},"Live example: ",(0,r.kt)("a",{parentName:"h4",href:"https://availity.github.io/availity-react/storybook/?path=/story/formik-select-resources--avorganizationselect"},"Storybook")),(0,r.kt)("h3",{id:"props"},"Props"),(0,r.kt)("p",null,"Extends ",(0,r.kt)("a",{parentName:"p",href:"/form/select/components/resource-select/#props"},"ResourceSelect Props"),"."),(0,r.kt)("h4",{id:"resourceids-string--string"},(0,r.kt)("inlineCode",{parentName:"h4"},"resourceIds?: string | string[]")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"organizations")," API from ",(0,r.kt)("inlineCode",{parentName:"p"},"sdk-js")," accepts a ",(0,r.kt)("inlineCode",{parentName:"p"},"resourceIds")," prop inside of ",(0,r.kt)("inlineCode",{parentName:"p"},"additionalPostGetArgs")," that can be either a string or nested array of strings. When ",(0,r.kt)("inlineCode",{parentName:"p"},"AvOrganizationSelect")," has a ",(0,r.kt)("inlineCode",{parentName:"p"},"resourceIds")," prop, then the results of the ",(0,r.kt)("inlineCode",{parentName:"p"},"postGet")," call to ",(0,r.kt)("inlineCode",{parentName:"p"},"organizations")," will be filtered, containing only organizations that have the specified permissions and resources. This is useful when a payer space app is restricted to permission ",(0,r.kt)("inlineCode",{parentName:"p"},"A")," and resource ",(0,r.kt)("inlineCode",{parentName:"p"},"B"),", a user can pass ",(0,r.kt)("inlineCode",{parentName:"p"},"A")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"B")," as ",(0,r.kt)("inlineCode",{parentName:"p"},"permissionIds")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"resourceIds")," into ",(0,r.kt)("inlineCode",{parentName:"p"},"AvOrganizationSelect")," and expect the dropdown to only contain authorized organizations for that user in that app, instead of all the organizations that user belongs to. AND logic is enforced by putting resources in an array together."),(0,r.kt)("p",null,"Example: resource ",(0,r.kt)("inlineCode",{parentName:"p"},"A")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"B")," are required under permission ",(0,r.kt)("inlineCode",{parentName:"p"},"C")," -> permissionIds: ","['C']",", resourcesIds: ","['A', 'B']"),(0,r.kt)("h4",{id:"permissionids-string--string"},(0,r.kt)("inlineCode",{parentName:"h4"},"permissionIds: string | string[]")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"organizations")," API from ",(0,r.kt)("inlineCode",{parentName:"p"},"sdk-js")," accepts a ",(0,r.kt)("inlineCode",{parentName:"p"},"permissionIds")," prop inside of ",(0,r.kt)("inlineCode",{parentName:"p"},"additionalPostGetArgs")," that can be either a string or nested array of strings. When used with ",(0,r.kt)("inlineCode",{parentName:"p"},"resourceIds"),", the results of the ",(0,r.kt)("inlineCode",{parentName:"p"},"postGet")," call to ",(0,r.kt)("inlineCode",{parentName:"p"},"organizations")," will be filtered, containing only organizations that have the specified permissions and resources. If ",(0,r.kt)("inlineCode",{parentName:"p"},"additionalPostGetArgs.permissionsIds")," exists, these values will be used over ",(0,r.kt)("inlineCode",{parentName:"p"},"parameters.permissionId"),". This is useful when a payer space app is restricted to permission ",(0,r.kt)("inlineCode",{parentName:"p"},"A")," and resource ",(0,r.kt)("inlineCode",{parentName:"p"},"B"),", a user can pass ",(0,r.kt)("inlineCode",{parentName:"p"},"A")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"B")," as ",(0,r.kt)("inlineCode",{parentName:"p"},"permissionIds")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"resourceIds")," into ",(0,r.kt)("inlineCode",{parentName:"p"},"AvOrganizationSelect")," and expect the dropdown to only contain authorized organizations for that user in that app, instead of all the organizations that user belongs to. AND logic is enforced by putting permissions in an array together."),(0,r.kt)("p",null,"Example: resource ",(0,r.kt)("inlineCode",{parentName:"p"},"A")," under permission ",(0,r.kt)("inlineCode",{parentName:"p"},"C")," AND resource ",(0,r.kt)("inlineCode",{parentName:"p"},"B")," under permission ",(0,r.kt)("inlineCode",{parentName:"p"},"D")," are required -> permissionIds: [ ","['C', 'D']"," ], resourceIds: [ ","['A', 'B']"," ]"),(0,r.kt)("h3",{id:"additional-notes-on-production-usage"},"Additional notes on production usage"),(0,r.kt)("p",null,"Based on our experience using this component in production environments with high volume usage, we have a few additional suggestions for developers."),(0,r.kt)("p",null,"Consider that while the overwhelming majority of your users may only belong to a handful of organizations, in production you will also have users who belong to >100 organizations. This may make use of this component more difficult and result in subtle and difficult to diagnose behaviors. Consider that if users navigate to a page with an orgId pre-populated from the URL, that organization may not be in the first page of responses from the backend. If we are fetching one page at a time our response callback may not have access to the complete set of results."),(0,r.kt)("p",null,"There would typically be two ways to work around this limitation. Developers might be tempted to use the pageAll prop (see ",(0,r.kt)("a",{parentName:"p",href:"/form/select/components/resource-select/#props"},"ResourceSelect docs"),"), but this will prevent passing in any api search parameters and leads to duplicating filtering logic that already exists on the backend. Additionally, developers should avoid this method if at all possible due to performance considerations of repeatedly fetching large numbers of user orgs up front as opposed to waiting for when that the information is needed."),(0,r.kt)("p",null,"Secondly, developers may decide to store a local copy of the http responses as they come in and use their own custom logic to perform any automated selection or matching after a complete set of responses has been received. This is likely the safest approach at this time, but comes with some obvious drawbacks of having to maintain additional state and duplicate some information in places."),(0,r.kt)("p",null,"If you run into similar problems with this or any other ResourceSelect component, PRs and suggestions are welcome. Work to improve and mitigate these limitations is currently underway."))}m.isMDXComponent=!0}}]);